<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>å˜èªå¸³ãƒ†ã‚¹ãƒˆï¼ˆ10å˜èªï¼‰</title>
  <style>
    body { font-family: sans-serif; text-align: center; }
    img { width: 200px; margin: 10px; }
    .word { font-size: 24px; margin: 10px; }
    button { margin: 5px; padding: 10px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>å˜èªå¸³ãƒ†ã‚¹ãƒˆï¼ˆ10å˜èªï¼‰</h1>
  <img id="wordImage" src="">
  <div class="word" id="wordText"></div>
  <audio id="wordAudio"></audio>
  <br>
  <button onclick="startAutoPlay()">â–¶ï¸ å…¨éƒ¨å†ç”Ÿã‚¹ã‚¿ãƒ¼ãƒˆ</button>
  <button onclick="markLearned()">âœ… è¦šãˆãŸï¼ˆã‚¹ã‚­ãƒƒãƒ—ï¼‰</button>

  <script>
    let words = [];
    let current = 0;
    let autoMode = false;

    async function loadWords() {
      const res = await fetch("words.json");
      words = await res.json();
      showWord();
    }

    function showWord() {
      if (current >= words.length) {
        alert("ã™ã¹ã¦çµ‚äº†ï¼ğŸ‰");
        autoMode = false;
        return;
      }
      let w = words[current];
      if (w.learned) { nextWord(); return; }
      document.getElementById("wordImage").src = w.image;
      document.getElementById("wordText").textContent = w.word;
      document.getElementById("wordAudio").src = w.audio;
      if (autoMode) playAudio();
    }

    function playAudio() {
      const audio = document.getElementById("wordAudio");
      audio.play();
      audio.onended = () => { nextWord(); };
    }

    function markLearned() {
      words[current].learned = true;
      nextWord();
    }

    function nextWord() {
      current++;
      showWord();
    }

    function startAutoPlay() {
      autoMode = true;
      current = 0;
      showWord();
    }

    loadWords();
  </script>
</body>
</html>
